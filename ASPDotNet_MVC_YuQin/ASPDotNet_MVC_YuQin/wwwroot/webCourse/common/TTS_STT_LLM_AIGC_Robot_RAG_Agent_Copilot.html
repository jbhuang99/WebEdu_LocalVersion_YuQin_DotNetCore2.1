<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <link rel="stylesheet" type="text/css" href="https://www.x3dom.org/x3dom/release/x3dom.css">
    <script type="text/javascript" src="https://www.x3dom.org/x3dom/release/x3dom.js"></script>
    <meta charset="UTF-8">
    <title>语音对话机器人(查找Search_人工智能AIGC_检索增强生成RAG_智能代理Agent_大思维语言模型LLM_机器人Robot_副驾Copilot)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            text-align: center;
        }
        /**div实现一行两列的网格布局**/
        .row-2col {
            display: flex;
            width: 100%; /* 可根据需要调整 */
            gap: 10px; /* 列间距，可选 */
        }

        .col {
            flex: 1; /* 两列等宽 */
            border: 1px solid #ccc;
            padding: 16px;
            background: #f9f9f9;
            text-align: center;
        }
        /** **/
        /**div实现两行两列的网格布局**/
        .grid-container {
            display: grid;
            // grid-template-columns: 1fr 1fr; /* 两列等宽 */
            //grid-template-rows: 1fr 1fr; /* 两行等高 */
            grid-template-rows: 1f; /* 一行等高 */
            gap: 10px; /* 可选：格子间距 */
            width: 90%;
            //max-width: 400px; /* 可选：最大宽度 */
            margin: 0 auto; /* 可选：居中 */
        }

        .grid-item {
            border: 1px solid #ccc;
            padding: 20px;
            text-align: center;
            background: #f9f9f9;
        }
        /** **/
        #transcriptSystemInternal {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            min-height: 100px;
            width: 80%;
            margin-left: auto;
            margin-right: auto;
            text-align: left;
            white-space: pre-wrap;
            background-color: #f9f9f9;
            overflow-y: auto;
            vertical-align: top;
        }

        #transcriptSystemExternal {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            min-height: 100px;
            width: 80%;
            margin-left: auto;
            margin-right: auto;
            text-align: left;
            white-space: pre-wrap;
            background-color: #f9f9f9;
            overflow-y: auto;
            vertical-align: top;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
        }

            button:disabled {
                background-color: #ccc;
                cursor: not-allowed;
            }
    </style>
    <script src="script/TTS_STT_LLM_AIGC_Robot.js"></script>
    <script src="script/Accuracy-Similarity.js"></script>
</head>

<body onload="fnOnLoad()">
    <div style="font-size:24px;font-weight:bolder">语音对话机器人<span style="font-size:16px">（面向远程听觉的麦克风扬声器/忽略近程视觉的屏幕键盘鼠标）</span></div>
    
    <table style="width:100%; border:dashed">
        <tr>
            <td id="tdSystemInternal" style="width: 50%; border: dashed;vertical-align:top">
                <div style="font-size:24px;font-weight:bolder;color:goldenrod" id="btnSystemInternal">系统内部语音对话<span style="font-size: 16px; font-weight: normal">【我们←（严谨准确性学科专业）语音互动（搜索匹配本系统的静态存储的数据读写、而非上下文追问AIGC的接受教育进行学习的自主生成的数据读写）→本系统】</span> </div>
                <div>
                    <button id="closeSTTSystemInternal" onclick="window.close();">单击关闭当前语音互动本系统，切换回到面向视觉的屏幕键盘鼠标互动本系统</button>
                </div>
                <button id="startBtnSystemInternal" title="单击将开始系统内部的录音对话。系统将打开麦克风录音，系统将自动根据您录音的停顿状态，识别语音，返回对话。非流式语音对话、流式语音对话。期待本系统语音识别您的语音指令，然后打开“作业测验”，进行语音识别答题、评分等等....正在完善之中...">开始录音对话</button>
                <button id="stopBtnSystemInternal" title="单击将停止系统内部的录音对话" disabled>停止录音对话</button>
                <button id="understandKernelDialogueBtnSystemInternal" title="单击将切换显示系统内部的录音对话的核心对话指令，以供了解" onclick='fnUnderstandKernelDialogueBtnSystemInternal()'>了解录音对话指令</button>
                <div id="kernelDialogueSystemInternal" style="border: dashed; border-color: goldenrod; display: none">
                    注：系统内部语音对话指令相对复杂严谨，主要控制我们发送语音对话的STT的字符序列给本系统，然后触发本系统运行已经编写的程序。
                    <ol style="text-align:justify">
                        <li>切换系统外部语音对话（实际测试优化成为“系统外部”）</li>
                        <li>目录条目下翻（实际测试优化成为“条目向上”）</li>
                        <li>目录条目上翻（实际测试优化成为“条目向下”）</li>
                        <li>目录条目开始系统内部语音朗读（实际测试优化成为“开始朗读”）</li>
                        <li>目录条目暂停系统内部语音朗读（实际测试优化成为“暂停朗读”）</li>
                        <li>目录条目继续系统内部语音朗读（实际测试优化成为“继续朗读”）</li>
                        <li>目录条目停止系统内部语音朗读（实际测试优化成为“停止朗读”）</li>
                        <li>目录条目内容框架切换课文（实际测试优化成为“课文”）</li>
                        <li>目录条目内容框架切换作业测验（实际测试优化成为“作业测验”）</li>
                        <li>作业测验题目开始系统内部语音朗读（实际测试优化成为“题目开始朗读”）</li>
                        <li>作业测验题目暂停系统内部语音朗读（实际测试优化成为“题暂停始朗读”）</li>
                        <li>作业测验题目继续系统内部语音朗读（实际测试优化成为“题目继续朗读”）</li>
                        <li>作业测验题目停止系统内部语音朗读（实际测试优化成为“题目停止朗读”）</li>
                        <li>系统内部概览（实际测试优化成为“概览”）</li>
                        <li>系统内部搜索（实际测试优化成为“搜索”）</li>
                    </ol>
                </div>
                <div id="transcriptSystemInternal" style="color:green">
                    {
                    "段落": [期待本系统语音识别您的语音指令，然后打开“作业测验”，进行语音识别答题、评分等等....正在完善之中...]
                    }
                </div>
            </td>
            <td id="tdSystemExternal" style="width: 50%; border: dashed;vertical-align:top">

                <div style="font-size:24px;font-weight:bolder;color:goldenrod" id="btnSystemExternal">
                    系统外部语音对话<span style="font-size:16px;font-weight:normal">【我们←（宽泛概率性闲聊日常）语音互动（上下文追问AIGC的接受教育进行学习的自主生成的数据读写、而非搜索匹配静态存储的数据读写）→AIGC】</span>
                </div>
                <div>
                    <button id="closeSTTSystemExternal" onclick='if(opener.parent.document.getElementById("sIframeContents").contentWindow.fnRunningFrom().indexOf("免费")>=0)
{alert(opener.parent.document.getElementById("sIframeContents").contentWindow.fnRunningFrom());} if(document.getElementById("sVisionAIGC_RAG_Agent").style.display=="none"){document.getElementById("sVisionAIGC_RAG_Agent").style.display="block"} else{document.getElementById("sVisionAIGC_RAG_Agent").style.display="none"}fnToggleEventSoureElementColor();' style="white-space: normal;">
                        单击保持当前语音系统互动系统外部AIGC，同时切换显示AIGC生成内容的准确性对比【注：面向视觉的屏幕键盘鼠标互动系统外部AIGC，例如“钉钉AIGC助理可以免费连接AIGC生成内容”，自开发反而需要付费，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂未考虑其他功能开发！】
                    </button>
                </div>
                <div id="sVisionAIGC_RAG_Agent" style="display: none; border:solid;border-color:brown">
                    <p></p>
                    <ol>
                        <div style="text-align:justify">
                        <li> <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(视觉字符)←对比→标准知识库检索匹配(视觉字符)" onclick='if(document.getElementById("AIGCCharactor").style.display=="none"){document.getElementById("AIGCCharactor").style.display="block"} else{document.getElementById("AIGCCharactor").style.display="none"};fnToggleEventSoureElementColor();' /></li>
                </div>
                <div id="AIGCCharactor" style="display: none; border: dashed;border-color: goldenrod; text-align: justify ">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方粘贴免费AIGC生成的字符序列（单击打开他创方的免费AIGC案例，自开发反而需要付费）" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方粘贴免费AIGC生成的字符序列（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><textarea id="sAIGCString" title="请在这里粘贴免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" style="width: 100%; resize: vertical; overflow:auto">这里粘贴免费AIGC生成的字符序列（单击打开他创方的免费AIGC案例，自开发反而需要付费）...</textarea>
                        </div>
                        <div class="col">
                            <label title="请在下方粘贴标准知识库搜索匹配的对比字符序列（单击打开自创方的知识库案例，自开发开源案例）" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方粘贴标准知识库搜索匹配的对比字符序列（单击打开自创方的知识库案例，自开发开源案例）： </label><textarea id="sKnowledgebaseString" title="请单击打开标准知识库搜索想要的字符序列。然后，请粘贴在这里！" style="width: 100%; resize: vertical; overflow: auto">这里粘贴标准知识库搜索匹配的对比字符序列（单击打开自创方的知识库案例，自开发开源案例）...</textarea>
                        </div>
                    </div>
                    <div style="width: 90%"><button style="color:green;font-size:11px;" onclick='document.getElementById("sAccuracySimilarityForString").textContent=fnStringSimilarity(document.getElementById("sAIGCString").value,document.getElementById("sKnowledgebaseString").value);'>准确性相似度：</button><span id="sAccuracySimilarityForString" style="font-size: 11px">这里将显示上述两个字符序列的准确性相似度</span></div>
                </div>
                <div></div>
                <div style="text-align:justify">
                    <li> <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(视觉图像)(.jpeg或.png文件为例)←对比→标准知识库检索匹配(视觉图像)(.jpeg或.png文件为例)" onclick='fnAccuracySimilarityForPixelImage()' /></li>
                </div>
                <div id="AIGCPixelImage" style="display: none;border:dashed;border-color:goldenrod;text-align:justify">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方上传免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方上传免费AIGC生成的.jpeg或.png图像文件(或者文本框中键入.jpeg或.png图像文件的URL)（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><input type="text" id="sPixelImageFromAIGC" value="" />
                            <div style="text-align:center"><img id="sShowPixelImageFromAIGC" style="width:100%;height:100%" src="" /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传“经验之塔”Prompt钉钉AIGC生成的图像，或者，上传自己书写的字符图像可用来评判自己书写的工整性' /> <input type="submit" value="提交文件" /></div>
                        </div>
                        <div class="col">
                            <label title="请单击打开标准知识库搜索想要的图像。然后，请在下方上传！" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方上传标准知识库搜索匹配的.jpeg或.png图像文件(或者文本框中键入.jpeg或.png图像文件的URL)（单击打开自创方的知识库案例，自开发开源案例）： </label><input type="text" id="sPixelImageFromKnowledgebase" value="" />
                            <div style="text-align:center"><img id="sShowPixelImageFromKnowledgebase" style="width: 100%; height: 100% " src="" /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传“经验之塔”关键词搜索匹配本系统标准知识库检索的图像，或者，上传印刷体的字符图像可用来对比自己书写的工整性' /><input type="submit" value="提交文件" /></div>
                        </div>
                    </div>
                    <div><button style="color:green;font-size:12px" onclick="fnPixelImageSimilarity();">准确性相似度：</button><span id="sAccuracySimilarityForPixelImage" style="font-size: 11px">这里将显示上述两个图像的准确性相似度</span></div>
                </div>
                <div></div>
                <div style="text-align:justify">
                    <li> <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(视觉视频)(.mp4文件为例)←对比→标准知识库检索匹配(视觉视频)(.mp4文件为例)" onclick='fnAccuracySimilarityForVideo()' /></li>
                </div>
                <div id="AIGCVideo" style="display: none;border:dashed;border-color:goldenrod;text-align:justify">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方上传免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方上传免费AIGC生成的.mp4视频文件(或者文本框中键入.mp4视频文件的URL)（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><input type="text" id="sVideoFromAIGC" value="" />
                            <div style="text-align:center"><video id="sShowVideoFromAIGC" style="width: 100%; height: 100% " src="" controls autoplay crossorigin="anonymous" /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传Prompt钉钉AIGC生成的.mp4视频文件，或者，上传自己创作的.mp4视频文件' /> <input type="submit" value="提交文件" /></div>
                        </div>
                        <div class="col">
                            <label title="请单击打开标准知识库搜索想要的视频。然后，请在下方上传！" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方上传标准知识库搜索匹配的对比.mp4视频文件(或者文本框中键入.mp4视频文件的URL)（单击打开自创方的知识库案例，自开发开源案例）： </label><input type="text" id="sVideoFromKnowledgebase" value="" />
                            <div style="text-align:center"><video id="sShowVideoFromKnowledgebase" style="width: 100%; height: 100% " src="" controls autoplay crossorigin="anonymous" /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传字典中的的.mp4视频文件，可用作评判自己创作的.mp4视频文件的的标准' /><input type="submit" value="提交文件" /></div>
                        </div>
                    </div>
                    <div><button style="color:green;font-size:12px" onclick="fnCompareVideos();">准确性相似度：</button><span id="sAccuracySimilarityForPixelVideo" style="font-size: 11px">这里将显示上述两个视频的准确性相似度</span></div><canvas id="canvas" width="160" height="90" style="display:none"></canvas>
                </div>
                <div></div>
                <div style="text-align:justify">
                    <li> <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(视觉2D)(.svg文件为例)←对比→标准知识库检索匹配(视觉2D)(.svg文件为例)" onclick='fnAccuracySimilarityFor2D()' /></li>
                </div>
                <div id="AIGC2D" style="display: none;border:dashed;border-color:goldenrod;text-align:justify">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方上传免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方上传免费AIGC生成的.svg二维2D文件(或者文本框中键入.svg二维2D的URL)（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><input type="text" id="s2DFromAIGC" value="" />
                            <div style="text-align:center"><img id="sShow2DFromAIGC" style="width: 100%; height: 100% " src="" controls /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传Prompt钉钉AIGC生成的.svg二维2D文件，或者，上传自己创作的.svg二维2D文件' /><input type="submit" value="提交文件" /></div>
                        </div>
                        <div class="col">
                            <label title="请单击打开标准知识库搜索想要的2D。然后，请在下方上传！" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方上传标准知识库搜索匹配的对比.svg二维2D文件(或者文本框中键入.svg二维2D文件的URL)（单击打开自创方的知识库案例，自开发开源案例）： </label><input type="text" id="s2DFromKnowledgebase" value="" />
                            <div style="text-align:center"><img id="sShow2DFromKnowledgebase" style="width: 100%; height:100% " src="" controls /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传字典中的的.svg二维2D文件，可用作评判自己创作的.svg二维2D文件的的标准' /><input type="submit" value="提交文件" /></div>
                        </div>
                    </div>
                    <div><button style="color:green;font-size:12px" onclick="fnShowAccuraySimilarityFor2D();">准确性相似度：</button><span id="sAccuracySimilarityFor2D" style="font-size: 11px">这里将显示上述两个2D的准确性相似度</span></div>
                </div>
                <div></div>
                <div style="text-align:justify">
                    <li>  <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(视觉3D)(.vx3d文件为例)←对比→标准知识库检索匹配(视觉3D)(.vx3d文件为例)（开发之中...）" onclick='fnAccuracySimilarityFor3D()' /></li>
                </div>
                <div id="AIGC3D" style="display: none;border:dashed;border-color:goldenrod;text-align:justify">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方上传免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方上传免费AIGC生成的.x3dv三维3D文件(或者文本框中键入.x3dv三维3D的URL)（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><input type="text" id="s3DFromAIGC" value="" />
                            <div style="text-align:center">
                                <!-- <img id="sShow3DFromAIGC" style="width: 100%; height: 100%" src="" controls />-->
                                <object type="model/x3d+xml" id="sShow3DFromAIGC" data="../options/Accuracy-Similarity/EducationalTechnologyFromAIGC.x3dv" width="120" height="80">
                                    <param name="autoStart" value="true" />
                                    <!-- 备用内容（如浏览器不支持） -->
                                    <p style="text-align:center">
                                        <a href='../options/Accuracy-Similarity/EducationalTechnologyFromAIGC.x3dv' target="_blank">您的浏览器不支持.x3d/.x3dv文件！请在线搜索下载安装BS Contact软件。然后，单击本链接下载本.x3d/.x3dv文件浏览。</a>浏览结果截图如下2D截图所示（但实际X3D可以虚拟现实VRML地漫游3D世界）：
                                        <div><img src="../options/Accuracy-Similarity/EducationalTechnologyFromAIGC.jpg" style="width:120px;height:80px" /></div>
                                        <div style="text-align:center">
                                            <p>请用鼠标拖动如下体验简易的X3D：</p>
                                            <x3d width="100%" height="80px">
                                                <scene>
                                                    <!-- 定义旋转的锥体 -->
                                                    <transform DEF="ConeTransform">
                                                        <shape>
                                                            <!-- 锥体几何体（高度 2，底面半径 1） -->
                                                            <cone bottomRadius="3" height="6"></cone>
                                                            <!-- 材质设置（绿色表面） -->
                                                            <appearance>
                                                                <material diffuseColor="0 0.8 0"></material>
                                                            </appearance>
                                                        </shape>
                                                    </transform>

                                                    <!-- 使用 Script 节点控制旋转动画 -->
                                                    <script DEF="RotateScript" type="JS">
                                                        // 获取 Transform 节点
                                                        const coneTransform = x3dom.nodeFactory.getNodeByName('ConeTransform')[0];
                                                        let angle = 0;

                                                        // 定义每帧更新的旋转角度
                                                        function rotate() {
                                                            angle += 0.02; // 调整速度（越大转得越快）
                                                            // 设置旋转（绕 Y 轴旋转）
                                                            coneTransform.rotation = [0, 1, 0, angle];
                                                            x3dom.field_SFVec3f.setSFVec3f(coneTransform, 'rotation', [0, 1, 0, angle]);
                                                            requestAnimationFrame(rotate); // 循环调用
                                                        }

                                                        // 启动动画
                                                        rotate();
                                                    </script>
                                                </scene>
                                            </x3d>
                                        </div>
                                    </p>
                                </object>
                            </div>
                            <div style="text-align:justify"><input type="file" title='例如，上传“普通话等级”Prompt钉钉AIGC生成的.x3dv三维3D文件，或者，上传自己创作的.x3dv三维3D文件' /><input type="submit" value="提交文件" /></div>
                        </div>
                        <div class="col">
                            <label title="请单击打开标准知识库搜索想要的3D。然后，请在下方上传！" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方上传标准知识库搜索匹配的对比.x3dv三维3D文件(或者文本框中键入.x3dv三维3D文件的URL)（单击打开自创方的知识库案例，自开发开源案例）： </label><input type="text" id="s3DFromKnowledgebase" value="" />
                            <div style="text-align:center">
                                <!--<img id="sShow3DFromKnowledgebase" style="width:100%; height:100%" src="" controls />-->
                                <object type="model/x3d+xml" id="sShow3DFromKnowledgebase" data="../options/Accuracy-Similarity/EducationalTechnologyFromKnowledgebase.x3dv" width="120" height="80">
                                    <param name="autoStart" value="true" />
                                    <!-- 备用内容（如浏览器不支持） -->
                                    <p style="text-align:center">
                                        <a href='../options/Accuracy-Similarity/EducationalTechnologyFromKnowledgebase.x3dv' target="_blank">您的浏览器不支持.x3d/.x3dv文件！请在线搜索下载安装BS Contact软件。然后，单击本链接下载本.x3d/.x3dv文件浏览。</a>浏览结果截图如下2D截图所示（但实际X3D可以虚拟现实VRML地漫游3D世界）：
                                        <div><img src="../options/Accuracy-Similarity/EducationalTechnologyFromKnowledgebase.jpg" style="width:120px;height:80px" /></div>
                                        <div style="text-align:center">
                                            <p>请用鼠标拖动如下体验简易的X3D：</p>
                                            <x3d width="100%" height="80px">
                                                <scene>
                                                    <!-- 定义旋转的锥体 -->
                                                    <transform DEF="ConeTransform">
                                                        <shape>
                                                            <!-- 锥体几何体（高度 2，底面半径 1） -->
                                                            <cone bottomRadius="3" height="6"></cone>
                                                            <!-- 材质设置（绿色表面） -->
                                                            <appearance>
                                                                <material diffuseColor="0 0.8 0"></material>
                                                            </appearance>
                                                        </shape>
                                                    </transform>

                                                    <!-- 使用 Script 节点控制旋转动画 -->
                                                    <script DEF="RotateScript" type="JS">
                                                        // 获取 Transform 节点
                                                        const coneTransform = x3dom.nodeFactory.getNodeByName('ConeTransform')[0];
                                                        let angle = 0;

                                                        // 定义每帧更新的旋转角度
                                                        function rotate() {
                                                            angle += 0.02; // 调整速度（越大转得越快）
                                                            // 设置旋转（绕 Y 轴旋转）
                                                            coneTransform.rotation = [0, 1, 0, angle];
                                                            x3dom.field_SFVec3f.setSFVec3f(coneTransform, 'rotation', [0, 1, 0, angle]);
                                                            requestAnimationFrame(rotate); // 循环调用
                                                        }

                                                        // 启动动画
                                                        rotate();
                                                    </script>
                                                </scene>
                                            </x3d>
                                        </div>
                                    </p>
                                </object>

                            </div>
                            <div style="text-align:justify"><input type="file" title='例如，上传字典中的的.x3dv三维3D文件，可用作评判自己创作的.x3dv三维3D文件的的标准' /><input type="submit" value="提交文件" /></div>
                        </div>
                    </div>
                    <div><button style="color:green;font-size:12px" onclick="document.getElementById('sAccuracySimilarityFor3D').textContent='（开发之中...)'//fnShowAccuraySimilarityFor3D();">准确性相似度：</button><span id="sAccuracySimilarityFor3D" style="font-size: 11px">这里将显示上述两个3D的准确性相似度</span></div>
                </div>
                <div></div>
                <div style="text-align:justify">
                    <li> <input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(听觉音频)(.mp3或.midi文件为例)←对比→标准知识库检索匹配(听觉音频)(.mp3或.midi文件为例)" onclick='fnAccuracySimilarityForAudio()' /></li>
                </div>
                <div id="AIGCAudio" style="display: none;border:dashed;border-color:goldenrod;text-align:justify">
                    <div class="row-2col">
                        <div class="col">
                            <label title="请在下方上传免费AIGC（例如，钉钉内置的钉钉AIGC助理）免费链接AIGC服务生成的内容，本系统只需对比标准知识库，思考它们生成内容的准确性，所以，除了在此的必须付费连接AIGC API-Key的语音对话机器人之外，暂不考虑其他AIGC的功能开发！" onclick='fnOpenLocalhostDingTalkAIGC();'>请在下方上传免费AIGC生成的.mp3音频文件(或者文本框中键入.mp3音频文件的URL)（单击打开他创方的免费AIGC案例，自开发反而需要付费）： </label><input type="text" id="sAudioFromAIGC" value="" />
                            <div style="text-align:center"><audio id="sShowAudioFromAIGC" style="width:100px; height:100px " src="" controls /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传“普通话等级”Prompt钉钉AIGC生成的音频，或者，上传自己朗读的“普通话等级”的音频' /><input type="submit" value="提交文件" /></div>
                        </div>
                        <div class="col">
                            <label title="请单击打开标准知识库搜索想要的音频。然后，请在下方上传！" onclick='opener.parent.document.getElementById("sIframeContents").contentWindow.fnSearch();'>请在下方上传标准知识库搜索匹配的对比.mp3音频文件(或者文本框中键入.mp3音频文件的URL)（单击打开自创方的知识库案例，自开发开源案例）： </label><input type="text" id="sAudioFromKnowledgebase" value="" />
                            <div style="text-align:center"><audio id="sShowAudioFromKnowledgebase" style="width: 100px; height:100px" src="" controls /></div>
                            <div style="text-align:justify"><input type="file" title='例如，上传字典的“普通话等级”发音音频，可用作评判自己朗读“普通话等级”的标准' /><input type="submit" value="提交文件" /></div>
                        </div>
                    </div>

                    <div><button style="color:green;font-size:12px" onclick="fnCompareAudio();">准确性相似度：</button><span id="sAccuracySimilarityForAudio" style="font-size: 11px">这里将显示上述两个音频的准确性相似度</span></div>
                </div>

                <div style="text-align:justify">
                    <li><div><input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(触觉)←对比→标准知识库检索匹配(触觉)（目前尚无法实现...）" /></div></li>
                </div>
                <div style="text-align:justify">
                    <li><div><input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(嗅觉)←对比→标准知识库检索匹配(嗅觉)（目前尚无法实现...）" /></div></li>
                </div>
                <div style="text-align:justify">
                    <li> <div><input type="button" style="white-space: normal; text-align: justify" value="单击切换显示：AIGC生成回答(味觉)←对比→标准知识库检索匹配(味觉)（目前尚无法实现...）" /></div></li>
                </div>
                </ol>
                </div>


                    <!--
    <div style="text-align:justify">
        <label title="付费API Key可以尝试客户端浏览器中密码口令方式输入，相对于保存在服务端secrets.json/appsettings.json之中更为风险。本系统唯一的付费API Key，不会用作所有登录本系统用户的代理，本系统用户使用语音对话机器人的的费用就是自己注册付费API Key的100%）（语音识别成为字符文本调用AIGC生成Answer内容，尚未实现！直接键入字符文本调用AIGC生成Answer内容，尚未实现（https://help.aliyun.com/zh/model-studio/first-api-call-to-qwen未见JS的具体代码案例）。例如，文本框中键入字符文本作为Prompt，然后单击这里，默认无需登录本系统，也是可以试验调用AIGC生成Answer内容...）">二、本系统的客户端浏览器访问他创方的AIGC（阿里Qwen为例)。</label><input id="idQwenAPIKeyInput" type="password" placeholder="必须在这里键入登录AIGC的API Key，然后单击确定按钮" title="必须在这里键入登录AIGC的API Key，然后单击确定按钮" /><button id="idQwenAPIKeyConfirm" title="必须在密码框中键入登录AIGC的API Key，然后单击本按钮" style="display: inline; white-space: normal; color: green; font-size: 12px">确定【Qwen千问的付费API Key】</button>后续将修改成为下方的语音识别您的Prompt，当前还请试验键入您的Prompt： <input type="text" value="教育技术" style="display:inline;white-space: normal" id="idPromptForClientBrowserSide" /><button style="display:inline;white-space: normal" onclick='fnAjaxClientBrowserSideCallAIGCAnswerCharactor();'>
            确定（不登录本系统代理使用语音机器人。节省0%、API Key原生风险）(AIGG提供者官方声明暂不支持)
        </button>
        <p id="idShowClientBrowserSidePromptAnswer" style="color:green;border:dashed">这里将呈现本系统的客户端浏览器访问他创方的AIGC，实现语音对话机器人的回答Answer并且TTS朗读：</p>
    </div>
        -->
                <div title="付费API Key保存进入开发运行时的项目机密文件secrets.json之中、交付运行时的应用设置文件appsettings.json之中，相对于客户端浏览器中输入更为安全。本系统唯一的付费API Key，用作所有登录本系统用户的代理，本系统用户使用语音对话机器人的费用一般只需自己注册付费API Key的30%左右）（语音识别成为字符文本调用AIGC生成Answer内容，尚未实现！直接键入字符文本调用AIGC生成Answer内容，已经基本实现。单击这里，默认需要登录本系统，然后可以试验调用AIGC生成Answer内容...）" style="text-align:justify">
                    本系统的服务端听觉媒体方式访问他创方的AIGC（阿里Qwen为例。本系统的客户端浏览器直接访问阿里Qwen官方申明暂不支持，因为API Key容易泄露等等安全性考虑。所以请登录本系统代理使用语音机器人，而且节省70%费用）（此外，请尽量选用本系统的语音对话。不过，因为当前语音识别还是具有一定局限性，所以暂时同时提供了视觉媒体方式访问他创方的AIGC，以后则将取消！请键入您的Prompt：<input type="text" value="教育技术" style="display:inline;white-space: normal" id="idPrompt" /><button style="display:inline;white-space: normal" onclick='if(opener.parent.document.getElementById("sIframeContents").contentWindow.fnRunningFrom().indexOf("免费")>=0)
{alert(opener.parent.document.getElementById("sIframeContents").contentWindow.fnRunningFrom());}fnAjaxServerSideCallAIGCAnswerCharactor();'>
                        确定
                    </button>）
                    <!--<p id="idShowServerSidePromptAnswer" style="color: green; border: dashed">这里将呈现本系统的服务端访问他创方的AIGC，实现语音对话机器人的回答Answer并且TTS朗读：</p>：-->
                </div>
                    <button id="startBtnSystemExternal" title="需要连接AIGC服务，需要付费AIGC...！单击将开始打开麦克风录音，系统将自动根据您录音的停顿状态，识别语音，返回对话。非流式语音对话、流式语音对话。期待本系统语音识别您的语音指令，然后连接AIGC，进行语音识别互动追问AIGC的回答，思辨自己想要的答案....">开始录音对话</button>
                    <button id="stopBtnSystemExternal" title="需要连接AIGC服务，需要付费AIGC...！单击将停止录音对话" disabled>停止录音对话</button>
                    <button id="understandKernelDialogueBtnSystemExternal" title="单击将切换显示系统外部的录音对话的核心对话指令，以供了解" onclick='fnUnderstandKernelDialogueBtnSystemExternal()'>了解录音对话指令</button>
                    <div id="kernelDialogueSystemExternal" style="border: dashed; border-color: goldenrod; display: none">
                        注：系统外部语音对话指令相对简单宽泛，主要不是控制本系统的运行，而是主要控制我们发送语音对话的STT的字符序列给本系统，本系统发送给AIGC，然后TTS朗读AIGC回答的字符序列。
                        <ol style="text-align:justify">
                            <li>切换系统内部语音对话（实际测试优化成为“系统内部”）</li>
                            <li>开始系统外部语音朗读（实际测试优化成为“开始朗读”）</li>
                            <li>暂停系统外部语音朗读（实际测试优化成为“暂停朗读”）</li>
                            <li>继续系统外部语音朗读（实际测试优化成为“继续朗读”）</li>
                            <li>停止系统外部语音朗读（实际测试优化成为“停止朗读”）</li>
                        </ol>
                    </div>
                    <div id="transcriptSystemExternal" style="color:green">
                        {
                        "段落": [期待本系统语音识别您的语音指令，然后连接AIGC，进行语音识别互动追问AIGC的回答，思辨自己想要的答案....需要付费AIGC...]
                        }
                    </div>
</td>

        </tr>
    </table>

    <!--系统外部的调用AIGC的语音对话注意事项：API 密钥安全性 不要将密钥直接暴露在前端代码中，建议通过后端代理转发请求。兼容性处理 不同大模型（例如，ChatGPT、Qwen）的 API 参数可能略有不同，请参考官方文档调整。

        <script>
    const fetchData = async (prompt) => {
    const response = await fetch('https://api.openai.com/v1/completions', {
    method: 'POST',
    headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer YOUR_API_KEY`
    },
    body: JSON.stringify({
    model: 'gpt-4',
    prompt: prompt,
    max_tokens: 100,
    temperature: 0.7
    //stream: true // 如果启用流式响应
    })
    });

    if (!response.ok) {
    throw new Error('Network response was not ok');
    }

    const data = await response.json();
    console.log(data.choices[0].text); // 输出生成的文本
    };

    fetchData("请为一家餐厅起一个名字");

        </script>
        <script>
    const fetchStreamData = async (prompt) => {
    const response = await fetch('https://api.openai.com/v1/completions', {
    method: 'POST',
    headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer YOUR_API_KEY`
    },
    body: JSON.stringify({
    model: 'gpt-4',
    prompt: prompt,
    stream: true // 启用流式响应
    })
    });

    if (!response.ok) {
    throw new Error('Network response was not ok');
    }

    const reader = response.body.getReader();
    const decoder = new TextDecoder('utf-8');
    let done = false;

    while (!done) {
    const { value, done: readerDone } = await reader.read();
    done = readerDone;
    const chunk = decoder.decode(value, { stream: true });
    console.log(chunk); // 实时输出每块数据
    }
    };

    fetchStreamData("请生成一段关于人工智能的介绍");
        </script>
          -->
</body>

</html>